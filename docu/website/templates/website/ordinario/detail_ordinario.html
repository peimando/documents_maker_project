{% extends 'website/base_website.html' %}
{% load static %}

{% block head_title %} {{ title }} {% endblock head_title %}

{% block url_name %}website:list_ordinarios{% endblock url_name %}

{% block content_header_title %}
    <div class="page-header-icon"><i data-feather="file-text"></i></div>
    {{ object.materia }}
{% endblock content_header_title %}

{% block content_header_subtitle %}{% endblock content_header_subtitle %}

{% block content_body %}
        <div class="card mb-4">
            <div class="card-header">
                Ordinario
            </div>
            <div class="card-body text-left">
                <div class="text-left">
                    <p id="antecedente">
                        <strong>Antecente:</strong>
                        {% if object.antecedente != '' %}
                            {{ object.antecendente|title }}
                        {% else %}
                            Sin descripción
                        {% endif %}
                    </p>
                    <p id="materia">
                        <strong>Materia:</strong>
                        {{ object.materia|title }}
                    </p>
                    <p id="de">
                        <strong>De:</strong>                        
                        {{ object.de|title }}
                    </p>
                    <p id="cargo_de">
                        <strong>Cargo:</strong>
                        {{ object.cargo_de|title }}
                    </p>
                    <p id="a">
                        <strong>A:</strong>
                        {{ object.a|title }}
                    </p>
                    <p id="cargo_a">
                        <strong>Cargo:</strong>
                        {% if object.cargo_a != '' %}
                            {{ object.a|title }}
                        {% else %}
                            Sin descripción
                        {% endif %}
                    </p>
                    <p id="cuerpo">
                        <strong>Cuerpo:</strong>
                        {{ object.cuerpo|safe }}
                    </p>
                    <p id="adjunto">
                        <strong>Adjunto:</strong>
                        {% if object.adjunto != '' %}
                            {{ object.adjunto }}
                        {% else %}
                            Sin descripción
                        {% endif %}
                    </p>
                    <p id="servicio">
                        <strong>Servicio:</strong>
                        {{ object.servicio }}                        
                    </p>
                    <p id="telefono">
                        <strong>Teléfono:</strong>
                        {{ object.telefono }}                        
                    </p>
                    
                    <p id="distribucion_interna">
                        <strong>Distribuciones internas:</strong>                 
                    </p>

                    <ul>
                    {% for distribucion_interna in object.distribuciones_internas_asociadas %}
                        <li>{{ distribucion_interna }}</li>
                    {% endfor %}
                    </ul>


                    {% if object.tipo_distribucion == 'EXT' %}
                        <p id="distribuciones_externas">
                            {{ object.distribucion_externa }}
                        </p>
                    {% endif %}

                </div>
            </div>
            <div class="card-footer d-flex justify-content-between">
                <a class="btn btn-outline-dark" href="{% url 'website:list_ordinarios' %}">
                    <i data-feather="arrow-left"></i>&nbsp;
                    Volver
                </a>
                
                <a href="{% url 'website:download_document' object.slug %}" class="btn btn-success" type="button" id="download_document" target="_blank">
                    <i data-feather="download"></i>&nbsp;
                    Descargar Ordinario
                </a>
            </div>
        </div>
    

{% endblock content_body %}